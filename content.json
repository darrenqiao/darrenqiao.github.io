{"meta":{"title":"Darren Qiao 的博客","subtitle":"去经历，去极致","description":null,"author":"Darren Qiao","url":"http://yoursite.com"},"pages":[{"title":"About me","date":"2018-09-21T08:42:45.000Z","updated":"2018-09-21T08:53:23.690Z","comments":true,"path":"about/index.html","permalink":"http://yoursite.com/about/index.html","excerpt":"","text":"Hey, about me, please stay tuned for more."},{"title":"categories","date":"2018-09-21T08:43:43.000Z","updated":"2018-09-21T08:47:31.751Z","comments":true,"path":"categories/index.html","permalink":"http://yoursite.com/categories/index.html","excerpt":"","text":""},{"title":"我的微信","date":"2018-09-21T15:07:10.000Z","updated":"2018-09-21T15:26:47.407Z","comments":true,"path":"qiaozp919/index.html","permalink":"http://yoursite.com/qiaozp919/index.html","excerpt":"","text":""},{"title":"tags","date":"2018-09-21T03:53:36.000Z","updated":"2018-09-21T04:06:29.077Z","comments":true,"path":"tags/index.html","permalink":"http://yoursite.com/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"JVM类文件中的常量池","slug":"JVM类文件中的常量池","date":"2018-09-21T18:53:49.000Z","updated":"2018-09-21T20:41:54.983Z","comments":true,"path":"2018/09/21/JVM类文件中的常量池/","link":"","permalink":"http://yoursite.com/2018/09/21/JVM类文件中的常量池/","excerpt":"","text":"有什么作用主要用来存放两大类常量：字面量 和 符号引用。 字面量包括以下几种： 文本字符串8大基本数据类型final修饰的常量 符号引用包含以下几种： 类和接口的全限定名子段的名称和描述符方法的名称和描述符 基本组成是什么常量池的每一个常量都是一个表结构，由以下14个基本表结构组成 八大基本数据类型中 boolean, byte, short, int, char 都对应的是 CONSTANT_Integer_info 字段 上面的每一个类型都是一个表结构，至少包含两个字段，比如 CONSTANT_Class_info结构如下： 类型 名称 数量 u1 tag 1 u2 name_index 1 tag 就是CONSTANT_Class_info对应的标志位7name_index 是一个索引值，因为这里需要的是类或者接口的全限定名，所以会指向一个CONSTANT_Utf8_info结构 变量，方法名最长多长，为什么？最长65535，即64KB，因为变量，方法名都是在CONSTANT_Utf8_info中存放，该结构有三个字段： 类型 名称 数量 u1 tag 1 u2 length 1 u1 bytes length lengh表示的是名称的长度，u2表示的是两个字节的无符号整数，最大值为65535. 代码中怎么体现出来写一个简单的例子123456789101112131415/** * FileName : TestConstantPool.java * Created by zongpengq on 9/21/2018. */public class TestConstantPool &#123; static int intData; static boolean ifData; static char charData; public static void main(String[] args) &#123; intData = 12; ifData = false; charData = 'a'; &#125;&#125; 用 javac TestConstantPool.java 得到字节码文件 TestConstantPool.class，再通过 javap -v TestConstantPool.class 可以看到代码对应的常量池部分 反编译之后发现有这段代码编译之后常量池中放有26个常量类型，简单取其中#1解释一下 #1 常量类型是 Methodref表示是一个类方法索引常量，用来描述Object的\\方法，由类索引信息#6 和 方法索引信息 #21组成#6 是Class类型，指向Obejct类，所以的全限定名又存放到 #26 Utf8类型中#21 是NameAndType类型用来描述方法#13 和方法描述符信息#14#14 用()V表示函数返回值为void","categories":[{"name":"JVM虚拟机","slug":"JVM虚拟机","permalink":"http://yoursite.com/categories/JVM虚拟机/"}],"tags":[{"name":"JVM","slug":"JVM","permalink":"http://yoursite.com/tags/JVM/"},{"name":"Java","slug":"Java","permalink":"http://yoursite.com/tags/Java/"}]},{"title":"网站的创建过程","slug":"网站的创建过程","date":"2018-09-20T14:03:37.000Z","updated":"2018-09-21T20:31:58.121Z","comments":true,"path":"2018/09/20/网站的创建过程/","link":"","permalink":"http://yoursite.com/2018/09/20/网站的创建过程/","excerpt":"","text":"COURTESY OF 基于hexo和github搭建个人博客关于归档等设置增加评论功能和域名绑定解决网站在chrome上一直显示不安全增加阅读数量功能","categories":[{"name":"杂七杂八","slug":"杂七杂八","permalink":"http://yoursite.com/categories/杂七杂八/"}],"tags":[{"name":"杂七杂八","slug":"杂七杂八","permalink":"http://yoursite.com/tags/杂七杂八/"}]},{"title":"Hello World","slug":"hello-world","date":"2018-09-20T12:05:41.400Z","updated":"2018-09-21T08:54:44.645Z","comments":true,"path":"2018/09/20/hello-world/","link":"","permalink":"http://yoursite.com/2018/09/20/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[{"name":"杂七杂八","slug":"杂七杂八","permalink":"http://yoursite.com/categories/杂七杂八/"}],"tags":[{"name":"杂七杂八","slug":"杂七杂八","permalink":"http://yoursite.com/tags/杂七杂八/"}]}]}